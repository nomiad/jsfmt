/**
 * This Utility knows various formats
 * @author nomiad | guavestudios
 * @license MIT -> LICENSE
 * @version 0.3
 */function Format(){function s(e){var t=arguments;try{var s=t[0];if(t[Format.PLP_PARAMS]==undefined||t[Format.PLP_PARAMS]==Format.EMPTY)s=o.call(this,t).toString();else{var u=t[Format.PLP_PARAMS].charAt(0),a=i[u];a!=null&&(s=a.call(this,t[Format.PLP_PARAMS],o.call(this,t)))}if(t[Format.PLP_ASSIGN]!=undefined&&t[Format.PLP_ASSIGN]!=Format.EMPTY)return r||(n={},r=!0),n[t[Format.PLP_ASSIGN]]=s,""}catch(f){s=t[0],window.console!=null&&console.warn("Format problem: '"+t[0]+"' in '"+t[7].substr(0,16)+"...'")}return s}function o(e){if(e[Format.PLP_SUBSELECT]!=Format.EMPTY){var i;return e[Format.PLP_SELECT]!=Format.EMPTY?i=t[parseInt(e[Format.PLP_SELECT],10)]:i=t[0],i[e[Format.PLP_SUBSELECT]]}return e[Format.PLP_SELECTVAR]!=undefined&&e[Format.PLP_SELECTVAR]!=Format.EMPTY?r?n[e[Format.PLP_SELECTVAR]]:"NA":t[parseInt(e[Format.PLP_SELECT],10)]}function u(e,t){return t.toString(16).toUpperCase()}function a(e,t){var n=Format.parseIfReg.exec(e);if(n!=null){var r=parseFloat(n[2]),i=!1;switch(n[1]){case"!=":i=t!=r;break;case"<":i=t<r;break;case">":i=t>r;break;case"==":i=t==r}return i?n[3]:n[4]}return e}function f(e,t){var n=Format.formatNumberReg.exec(e),r=t;if(isNaN(r))return e;if(n!=null){var i=0,s=0,o=r;n[3]!=null&&(i=n[4].length,s=n[4].charAt(0)=="?"?0:i),o*=Math.pow(10,i),n[5]=="c"?o=Math.ceil(o):n[5]=="f"?o=Math.floor(o):o=Math.round(o),o/=Math.pow(10,i);var u=o.toString(),a="";if(u.indexOf(".")>-1&&i>0){var f=o.toString().split(".");a=f[1],u=f[0]}if(s>0)while(a.length<s)a+="0";var l=n[2].length;while(u.length<l)u="0"+u;if(n[1]!=null){var c="";for(var h=u.length-1,p=u.length-1;h>=0;h--)c=u.charAt(h)+c,(p-h)%3==2&&h>0&&(c=n[1]+c);u=c}return a.length>0?u+n[3]+a:u}return e}function l(e,t){var n=Format.parseTabsReg.exec(e);if(n!=null){var r=t.toString(),i=n[1],s=n[3],o=parseInt(n[2],10),u=0;while(r.length<o)switch(i){case"m":u%2==0?r+=s:r=s+r,u++;break;case"l":r+=s;break;case"r":default:r=s+r}return r}return t}var e=this,t=null,n,r=!1,i={d:f,h:u,"?":a,s:l};this.format=function(i,o){t=Array.prototype.slice.call(arguments,1);if(i==null)return"Error: undefined Format";if(arguments.length<2)return i;if(i.indexOf("{")==-1)return i;var u=i.replace(Format.placeholderPattern,function(){return s.apply(e,arguments)});return r&&(r=!1,n=null),u}}Format.placeholderPattern=/\{(?:\$([a-zA-Z0-9]{1,4})=|)(\$([a-zA-Z0-9]{1,4})|[0-9]{1,2}|)(?:\.|)(?:#|)([a-zA-Z0-9]{1,15}?|)(?:\:(.+?)|)\}/g,Format.parseIfReg=/^\?(.{1,2})([0-9]{1,5})\|(.*?)\|(.*?)$/,Format.formatNumberReg=/^d(?:(\.|\,|\')|)([#]{1,5})(?:(\.|\,)([#\?]{1,4})|)([cfr]|)$/,Format.parseTabsReg=/^s([l,r,m])([0-9]{1,2})\|(.)/,Format.EMPTY="",Format.PLP_ASSIGN=1,Format.PLP_SELECT=2,Format.PLP_SELECTVAR=3,Format.PLP_SUBSELECT=4,Format.PLP_PARAMS=5,Format.getInstance=function(){return Format.instance==null&&(Format.instance=new Format),Format.instance},Format.format=function(e,t){return Format.getInstance().format.apply(Format.getInstance(),arguments)};